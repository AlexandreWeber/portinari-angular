<button *ngIf="mobileOpened" class="po-menu-overlay" (click)="toggleMenuMobile()"></button>
<button class="po-menu-mobile po-clickable" (click)="toggleMenuMobile()">
  <span class="po-icon po-icon-menu"></span>
</button>

<nav class="po-menu" [ngClass]="{ 'po-menu-animation' : mobileOpened }" aria-label="menu principal">

  <div class="po-menu-header">
    <header *ngIf="logo || (shortLogo && enableCollapse)" role="banner" class="po-menu-header-container-logo">
      <a href="./" aria-label="Home">
        <img
          aria-hidden="true"
          [ngClass]="enableCollapse ? 'po-menu-short-logo' : 'po-menu-logo'"
          [src]="enableCollapse ? shortLogo || logo : logo">
      </a>
    </header>

    <div *ngIf="!enableCollapse && menuHeaderTemplate" class="po-menu-header-template">
      <ng-container *ngTemplateOutlet="menuHeaderTemplate.templateRef"></ng-container>
    </div>

    <po-menu-filter *ngIf="filter && !enableCollapse"
      [p-loading]="filterLoading"
      (p-filter)="debounceFilter($event)">
    </po-menu-filter>
  </div>

  <ul class="po-menu-body" cdkScrollable #menuBody>

    <!-- Inner e outer para esconder scroll -->
    <!-- <div class="po-menu-outer"> -->
      <!-- <div class="po-menu-inner"> -->

        <div *ngIf="noData" class="po-menu-item-wrapper">
          <div class="po-menu-item-first">
            <div class="po-menu-icon-container po-menu-item-no-data">
              <span class="po-icon po-icon-info po-menu-icon-item po-lg-2"></span>
              <div class="po-lg-10 po-menu-icon-label"> {{literals.itemNotFound}} </div>
            </div>
          </div>
        </div>

        <li *ngFor="let menu of filteredItems, let menuIndex = index;" class="po-menu-item-wrapper">
          <po-menu-item
            [class.po-menu-item-first]="menuIndex === 0"
            [p-action]="menu.action"
            [p-badge-alert]="menu.badgeAlert"
            [p-badge-color]="menu.badge ? menu.badge.color : undefined"
            [p-badge-value]="menu.badge ? menu.badge.value : undefined"
            [p-collapsed-menu]="enableCollapse"
            [p-icon]="allowIcons ? menu.icon : null"
            [p-id]="menu.id"
            [p-label]="menu.label"
            [p-level]="menu.level"
            [p-link]="menu.link"
            [p-short-label]="menu.shortLabel"
            [p-sub-items]="menu.subItems"
            [p-type]="menu.type">
          </po-menu-item>
        </li>
      <!-- </div> -->
    <!-- </div> -->
  </ul>

  <div *ngIf="hasFooter" class="po-menu-footer">
    <button
      class="po-menu-collapse-button-icon po-clickable"
      (click)="toggle()"
      tabindex="0"
      aria-hidden="true">
      collapsar

      <span class="po-icon"
        [class.po-icon-menu-close]="enableCollapseButton"
        [class.po-icon-menu-open]="enableCollapse">
      </span>
    </button>
  </div>
</nav>
